
 RUN  v3.2.4 /home/nathanjgaul/Development/projects/form_manager

 ❯ src/__tests__/unit/utils/csvProcessing.test.ts (1 test | 1 failed) 9ms
   × parseCSV > should handle multi-line fields within quotes (RFC 4180) 7ms
     → expected [ [ 'John', …(1) ], …(2) ] to deeply equal [ [ 'John', …(2) ] ]

⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/__tests__/unit/utils/csvProcessing.test.ts > parseCSV > should handle multi-line fields within quotes (RFC 4180)
AssertionError: expected [ [ 'John', …(1) ], …(2) ] to deeply equal [ [ 'John', …(2) ] ]

[32m- Expected[39m
[31m+ Received[39m

[2m  [[22m
[2m    [[22m
[2m      "John",[22m
[32m-     "This is a long comment[39m
[32m- that spans multiple[39m
[32m- lines with detailed feedback",[39m
[32m-     "Active",[39m
[31m+     "This is a long comment",[39m
[31m+   ],[39m
[31m+   [[39m
[31m+     "that spans multiple",[39m
[31m+   ],[39m
[31m+   [[39m
[31m+     "lines with detailed feedback,Active",[39m
[2m    ],[22m
[2m  ][22m

 ❯ src/__tests__/unit/utils/csvProcessing.test.ts:23:25
     21|     // EXPECTED: One data row with the multi-line comment preserved
     22|     // ACTUAL: Multiple broken rows because of splitting by \n first
     23|     expect(result.data).toEqual([
       |                         ^
     24|       ['John', 'This is a long comment\nthat spans multiple\nlines wit…
     25|     ]);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  1 failed (1)
   Start at  06:59:04
   Duration  984ms (transform 99ms, setup 188ms, collect 55ms, tests 9ms, environment 259ms, prepare 236ms)

